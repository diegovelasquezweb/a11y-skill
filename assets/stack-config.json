{
  "frameworkDetection": {
    "domSignals": [
      { "framework": "nextjs", "signals": { "scriptSrc": "/_next/" } },
      { "framework": "nuxt", "signals": { "scriptSrc": "/_nuxt/", "window": "__NUXT__" } },
      { "framework": "react", "signals": { "window": "__vite_plugin_react_preamble_installed__" } },
      { "framework": "shopify", "signals": { "window": "Shopify" } },
      { "framework": "svelte", "signals": { "window": "__sveltekit_dev" } },
      { "framework": "drupal", "signals": { "window": "Drupal" } }
    ],
    "fileSignals": [
      { "framework": "wordpress", "files": ["wp-config.php", "wp-content"] },
      { "framework": "drupal", "files": ["core/lib/Drupal.php", "sites/default/settings.php"] }
    ],
    "uiLibrarySignals": [
      ["@radix-ui", "radix"],
      ["@headlessui", "headless-ui"],
      ["@chakra-ui", "chakra"],
      ["@mantine", "mantine"],
      ["@mui", "material-ui"],
      ["antd", "ant-design"],
      ["@shopify/polaris", "polaris"],
      ["@react-aria", "react-aria"],
      ["ariakit", "ariakit"],
      ["shadcn-ui", "shadcn"],
      ["primevue", "primevue"],
      ["vuetify", "vuetify"],
      ["swiper", "swiper"]
    ],
    "packageSignals": [
      ["next", "nextjs"],
      ["gatsby", "gatsby"],
      ["nuxt", "nuxt"],
      ["@nuxt/core", "nuxt"],
      ["@angular/core", "angular"],
      ["astro", "astro"],
      ["@sveltejs/kit", "svelte"],
      ["svelte", "svelte"],
      ["vue", "vue"],
      ["react", "react"]
    ],
    "urlSignals": [
      { "pattern": "myshopify.com", "framework": "shopify" },
      { "pattern": ".myshopify.", "framework": "shopify" },
      { "pattern": "wp-content", "framework": "wordpress" },
      { "pattern": "wordpress", "framework": "wordpress" }
    ]
  },
  "frameworkGlobs": {
    "nextjs": { "components": "app/**/*.tsx, components/**/*.tsx", "styles": "**/*.module.css, app/globals.css" },
    "gatsby": { "components": "src/**/*.tsx, src/**/*.jsx", "styles": "src/**/*.css, src/**/*.module.css" },
    "react": { "components": "src/**/*.tsx, src/**/*.jsx", "styles": "src/**/*.css, src/**/*.module.css" },
    "nuxt": { "components": "pages/**/*.vue, components/**/*.vue", "styles": "**/*.css, assets/**/*.scss" },
    "vue": { "components": "src/**/*.vue", "styles": "src/**/*.css" },
    "angular": { "components": "src/**/*.component.html, src/**/*.component.ts", "styles": "src/**/*.component.css" },
    "astro": { "components": "src/**/*.astro, src/components/**/*.tsx", "styles": "src/**/*.css" },
    "svelte": { "components": "src/**/*.svelte", "styles": "src/**/*.css" },
    "shopify": { "components": "sections/**/*.liquid, snippets/**/*.liquid", "styles": "assets/**/*.css" },
    "wordpress": { "components": "wp-content/themes/**/*.php", "styles": "wp-content/themes/**/*.css" },
    "drupal": { "components": "web/themes/**/*.html.twig, themes/**/*.html.twig", "styles": "web/themes/**/*.css, themes/**/*.css" }
  },
  "frameworkAliases": {
    "intelKey": {
      "nextjs": "react",
      "gatsby": "react",
      "nuxt": "vue",
      "react": "react",
      "vue": "vue",
      "angular": "angular",
      "astro": "astro",
      "svelte": "svelte"
    },
    "cmsKey": {
      "shopify": "shopify",
      "wordpress": "wordpress",
      "drupal": "drupal"
    }
  },
  "guardrails": {
    "shared": [
      "2.  **Surgical Selection**: Use the **Surgical Selector** and **Evidence from DOM** to verify you are editing the correct element. Accessibility fixes are context-sensitive.",
      "3.  **Global Component Check**: If an issue repeats across multiple pages, it is likely inside a Global Component (e.g., `Header.tsx`, `Button.vue`). Fix it once at the source.",
      "4.  **Verification**: After applying a fix, explain *why* it resolves the WCAG criterion mentioned.",
      "5.  **No Placeholders**: Do not add \"todo\" comments. Provide the complete code fix."
    ],
    "framework": {
      "react": "1.  **React Project**: Edit `.tsx`/`.jsx` files in `src/`. **NEVER** edit `dist/`, `build/`, or `.cache/`. Source of Truth: fix at the component, not the compiled output.",
      "nextjs": "1.  **Next.js Project**: Edit `.tsx`/`.jsx` files in `app/`, `pages/`, or `components/`. **NEVER** edit `.next/` or `out/`. Source of Truth: fix at the component or page.",
      "gatsby": "1.  **Gatsby Project**: Edit `.tsx`/`.jsx` in `src/pages/` or `src/components/`. **NEVER** edit `public/` or `.cache/`. Source of Truth: fix at the component.",
      "vue": "1.  **Vue Project**: Edit `.vue` files in `src/`. **NEVER** edit `dist/` or `node_modules/`. Source of Truth: fix at the component.",
      "nuxt": "1.  **Nuxt Project**: Edit `.vue` files in `pages/`, `components/`, or `layouts/`. **NEVER** edit `.nuxt/` or `dist/`. Source of Truth: fix at the component.",
      "angular": "1.  **Angular Project**: Edit `.component.html` and `.component.ts` in `src/`. **NEVER** edit `dist/`. Source of Truth: fix at the component.",
      "astro": "1.  **Astro Project**: Edit `.astro` files in `src/`. **NEVER** edit `dist/` or `.astro/`. Source of Truth: fix at the component or page.",
      "shopify": "1.  **Shopify Project**: Edit `.liquid` files in `sections/`, `snippets/`, or `layout/`. **NEVER** edit compiled assets in `assets/*.min.js`. Source of Truth: fix at the template, not the rendered DOM.",
      "wordpress": "1.  **WordPress Project**: Work only in `wp-content/themes/` or `plugins/`. **NEVER** edit `wp-admin/` or `wp-includes/` or any cached file. Source of Truth: fix at the theme template.",
      "svelte": "1.  **Svelte/SvelteKit Project**: Edit `.svelte` files in `src/`. **NEVER** edit `.svelte-kit/`, `build/`, or `dist/`. Source of Truth: fix at the component, not the compiled output.",
      "drupal": "1.  **Drupal Project**: Search for `.html.twig` in `web/themes/` or `themes/`. Clear cache with `drush cr` after changes. **NEVER** edit compiled or cached files.",
      "generic": "1.  **Framework & CMS Awareness**: This project may use React, Vue, Next.js, Astro, **Shopify** (.liquid), **WordPress** (.php), or **Drupal** (.twig).\n    - **NEVER** edit compiled, minified, or cached files (e.g., `dist/`, `.next/`, `build/`, `wp-content/cache/`, `assets/*.min.js`).\n    - **Source of Truth**: Traced DOM violations must be fixed at the **Source Component** or **Server-side Template**. Edit the origin, not the output."
    }
  }
}
