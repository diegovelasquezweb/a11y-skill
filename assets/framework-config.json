{
  "frameworkDetection": {
    "domSignals": [
      { "framework": "nextjs", "signals": { "id": "__next", "window": "__NEXT_DATA__" } },
      { "framework": "nuxt", "signals": { "id": "__nuxt", "window": "__NUXT__" } },
      { "framework": "angular", "signals": { "selector": "[ng-version]" } },
      { "framework": "gatsby", "signals": { "id": "___gatsby" } },
      { "framework": "astro", "signals": { "selector": "[data-astro-cid]", "selectorAlt": "astro-island" } },
      { "framework": "react", "signals": { "selector": "[data-reactroot]" } },
      { "framework": "vue", "signals": { "selector": "[data-v-]", "selectorAlt": "[data-server-rendered]" } },
      { "framework": "shopify", "signals": { "window": "Shopify", "selector": "[data-shopify]" } },
      { "framework": "wordpress", "signals": { "hrefContains": "wp-content", "metaGenerator": "WordPress" } }
    ],
    "uiLibrarySignals": [
      ["@radix-ui", "radix"],
      ["@headlessui", "headless-ui"],
      ["@chakra-ui", "chakra"],
      ["@mantine", "mantine"],
      ["@mui", "material-ui"],
      ["antd", "ant-design"],
      ["@shopify/polaris", "polaris"],
      ["@react-aria", "react-aria"],
      ["ariakit", "ariakit"],
      ["shadcn-ui", "shadcn"],
      ["primevue", "primevue"],
      ["vuetify", "vuetify"]
    ],
    "urlSignals": [
      { "pattern": "myshopify.com", "framework": "shopify" },
      { "pattern": ".myshopify.", "framework": "shopify" },
      { "pattern": "wp-content", "framework": "wordpress" },
      { "pattern": "wordpress", "framework": "wordpress" }
    ]
  },
  "frameworkGlobs": {
    "nextjs": { "components": "app/**/*.tsx, components/**/*.tsx", "styles": "**/*.module.css, app/globals.css" },
    "gatsby": { "components": "src/**/*.tsx, src/**/*.jsx", "styles": "src/**/*.css, src/**/*.module.css" },
    "react": { "components": "src/**/*.tsx, src/**/*.jsx", "styles": "src/**/*.css, src/**/*.module.css" },
    "nuxt": { "components": "pages/**/*.vue, components/**/*.vue", "styles": "**/*.css, assets/**/*.scss" },
    "vue": { "components": "src/**/*.vue", "styles": "src/**/*.css" },
    "angular": { "components": "src/**/*.component.html, src/**/*.component.ts", "styles": "src/**/*.component.css" },
    "astro": { "components": "src/**/*.astro, src/components/**/*.tsx", "styles": "src/**/*.css" },
    "svelte": { "components": "src/**/*.svelte", "styles": "src/**/*.css" },
    "shopify": { "components": "sections/**/*.liquid, snippets/**/*.liquid", "styles": "assets/**/*.css" },
    "wordpress": { "components": "wp-content/themes/**/*.php", "styles": "wp-content/themes/**/*.css" }
  },
  "frameworkAliases": {
    "intelKey": {
      "nextjs": "react",
      "gatsby": "react",
      "nuxt": "vue",
      "react": "react",
      "vue": "vue",
      "angular": "angular",
      "astro": "astro",
      "svelte": "svelte"
    },
    "cmsKey": {
      "shopify": "shopify",
      "wordpress": "wordpress",
      "drupal": "drupal"
    }
  },
  "guardrails": {
    "shared": [
      "2.  **Surgical Selection**: Use the **Surgical Selector** and **Evidence from DOM** to verify you are editing the correct element. Accessibility fixes are context-sensitive.",
      "3.  **Global Component Check**: If an issue repeats across multiple pages, it is likely inside a Global Component (e.g., `Header.tsx`, `Button.vue`). Fix it once at the source.",
      "4.  **Verification**: After applying a fix, explain *why* it resolves the WCAG criterion mentioned.",
      "5.  **No Placeholders**: Do not add \"todo\" comments. Provide the complete code fix."
    ],
    "framework": {
      "shopify": "1.  **Shopify Project**: Edit `.liquid` files in `sections/`, `snippets/`, or `layout/`. **NEVER** edit compiled assets in `assets/*.min.js`. Source of Truth: fix at the template, not the rendered DOM.",
      "wordpress": "1.  **WordPress Project**: Work only in `wp-content/themes/` or `plugins/`. **NEVER** edit `wp-admin/` or `wp-includes/` or any cached file. Source of Truth: fix at the theme template.",
      "drupal": "1.  **Drupal Project**: Search for `.html.twig` in `themes/`. Clear cache with `drush cr` after changes. **NEVER** edit compiled or cached files.",
      "generic": "1.  **Framework & CMS Awareness**: This project may use React, Vue, Next.js, Astro, **Shopify** (.liquid), **WordPress** (.php), or **Drupal** (.twig).\n    - **NEVER** edit compiled, minified, or cached files (e.g., `dist/`, `.next/`, `build/`, `wp-content/cache/`, `assets/*.min.js`).\n    - **Source of Truth**: Traced DOM violations must be fixed at the **Source Component** or **Server-side Template**. Edit the origin, not the output."
    }
  }
}
